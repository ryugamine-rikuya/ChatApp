webpackJsonp([1],{0:function(e,s){},"0RR9":function(e,s){},GPez:function(e,s){},NHnr:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=t("7+uW"),a=t("E0CL"),n={props:{type:a.a.string.isRequired,message:a.a.string.isRequired,id:a.a.string.isRequired,user:a.a.string.isRequired,myId:a.a.string.isRequired,hour:a.a.string.isRequired,min:a.a.string.isRequired}},r={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.$props.id===e.$props.myId?t("div",{staticClass:"main_body_message"},[t("li",{staticClass:"main_body_my_message_li"},[t("p",{staticClass:"my_message"},[e._v(e._s(e.$props.message))]),e._v(" "),t("p",{staticClass:"my_time"},[e._v(e._s(e.$props.hour)+":"+e._s(e.$props.min))])])]):"login"===e.$props.type?t("div",{staticClass:"main_body_message"},[t("li",{staticClass:"main_body_login_message_li"},[t("p",{staticClass:"login"},[e._v(e._s(e.$props.user)+" "+e._s(e.$props.message)+" "+e._s(e.$props.hour)+":"+e._s(e.$props.min))])])]):t("div",{staticClass:"main_body_message"},[t("li",{staticClass:"main_body_message_li"},[t("p",{staticClass:"user"},[e._v(e._s(e.$props.user))]),e._v(" "),t("p",{staticClass:"message"},[e._v(e._s(e.$props.message))]),e._v(" "),t("p",{staticClass:"time"},[e._v(e._s(e.$props.hour)+":"+e._s(e.$props.min))])])])},staticRenderFns:[]};var o=t("VU/8")(n,r,!1,function(e){t("dIKx")},null,null).exports,m=t("DmT9"),u=t.n(m).a.connect("http://127.0.0.1:5001"),d={data:function(){return{myId:"",messages:[],newMessage:"",user:""}},components:{Message:o},mounted:function(){void 0!==localStorage.user?this.user=localStorage.user:(this.user=prompt("ユーザ名"),localStorage.user=this.user),void 0!==localStorage.myId?this.myId=localStorage.myId:(this.myId=(new Date).getTime().toString(10)+Math.floor(1e3*Math.random()).toString(10),localStorage.myId=this.myId),u.on("message",function(e){var s=new Date;s.setTime(e.unixtime);var t=s.getTimezoneOffset()/60*-1;s.setTime(s.getTime()+36e5*t),e.date=s,e.hour=s.getHours().toString(10).padStart(2,"0"),e.min=s.getMinutes().toString(10).padStart(2,"0"),this.messages.push(e)}.bind(this));var e=(new Date).getTime(),s={type:"login",message:"login",id:this.id,user:this.user,unixtime:e};u.emit("login",s)},updated:function(){this.$nextTick(function(){var e=document.documentElement,s=e.scrollHeight-e.clientHeight;scroll(0,s)})},methods:{sendMessage:function(){var e=(new Date).getTime(),s={type:"message",message:document.message_form.message.value,id:this.myId,user:this.user,unixtime:e};u.emit("message",s),this.newMessage=""}}},p={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{attrs:{id:"main"}},[t("div",{attrs:{id:"main_body"}},[t("ul",{attrs:{id:"main_body_ul"}},e._l(e.messages,function(s,i,a){return t("Message",{key:a,attrs:{type:s.type,message:s.message,id:s.id,user:s.user,myId:e.myId,hour:s.hour,min:s.min}})}),1)]),e._v(" "),t("div",{attrs:{id:"main_footer"}},[t("form",{attrs:{id:"main_footer_form",name:"message_form"},on:{submit:function(s){return s.preventDefault(),e.sendMessage(s)}}},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newMessage,expression:"newMessage"}],attrs:{rows:"1",required:"",id:"main_footer_form_text",name:"message",placeholder:"メッセージを入力してください。"},domProps:{value:e.newMessage},on:{input:function(s){s.target.composing||(e.newMessage=s.target.value)}}}),e._v(" "),t("input",{attrs:{id:"main_footer_form_submit",type:"submit",value:"add"}})])])])},staticRenderFns:[]};var l=t("VU/8")(d,p,!1,function(e){t("GPez")},null,null).exports,g={components:{Chat:l}},c={render:function(){var e=this.$createElement,s=this._self._c||e;return s("div",{attrs:{id:"app"}},[s("Chat")],1)},staticRenderFns:[]};var _=t("VU/8")(g,c,!1,function(e){t("0RR9")},null,null).exports,v=t("/ocq");i.a.use(v.a);var f=new v.a({routes:[{path:"/",name:"Chat",component:l}]});i.a.config.productionTip=!1,new i.a({el:"#app",router:f,components:{App:_},template:"<App/>"})},dIKx:function(e,s){}},["NHnr"]);
//# sourceMappingURL=app.051d9b50f1036682800c.js.map