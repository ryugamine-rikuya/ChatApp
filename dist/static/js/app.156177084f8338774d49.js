webpackJsonp([1],{0:function(e,s){},"0RR9":function(e,s){},NHnr:function(e,s,t){"use strict";Object.defineProperty(s,"__esModule",{value:!0});var i=t("7+uW"),n=t("E0CL"),a={props:{type:n.a.string.isRequired,message:n.a.string.isRequired,id:n.a.string.isRequired,user:n.a.string.isRequired,myId:n.a.string.isRequired,hour:n.a.string.isRequired,min:n.a.string.isRequired}},r={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return e.$props.id===e.$props.myId?t("div",{staticClass:"main_body_message"},[t("li",{staticClass:"main_body_my_message_li"},[t("p",{staticClass:"my_message"},[e._v(e._s(e.$props.message))]),e._v(" "),t("p",{staticClass:"my_time"},[e._v(e._s(e.$props.hour)+":"+e._s(e.$props.min))])])]):"login"===e.$props.type?t("div",{staticClass:"main_body_message"},[t("li",{staticClass:"main_body_login_message_li"},[t("p",{staticClass:"login"},[e._v(e._s(e.$props.user)+" "+e._s(e.$props.message)+" "+e._s(e.$props.hour)+":"+e._s(e.$props.min))])])]):t("div",{staticClass:"main_body_message"},[t("li",{staticClass:"main_body_message_li"},[t("p",{staticClass:"user"},[e._v(e._s(e.$props.user))]),e._v(" "),t("p",{staticClass:"message"},[e._v(e._s(e.$props.message))]),e._v(" "),t("p",{staticClass:"time"},[e._v(e._s(e.$props.hour)+":"+e._s(e.$props.min))])])])},staticRenderFns:[]};var o=t("VU/8")(a,r,!1,function(e){t("dIKx")},null,null).exports,u=t("DmT9"),m=t.n(u),d=Object({NODE_ENV:"production"}).HOST||"127.0.0.1",g=Object({NODE_ENV:"production"}).PORT||5001,p=m.a.connect("http://"+d.toString(10)+":"+g.toString(10)),l={data:function(){return{myId:"",messages:[],newMessage:"",user:""}},components:{Message:o},mounted:function(){void 0!==localStorage.user?this.user=localStorage.user:(this.user=prompt("ユーザ名"),localStorage.user=this.user),void 0!==localStorage.myId?this.myId=localStorage.myId:(this.myId=(new Date).getTime().toString(10)+Math.floor(1e3*Math.random()).toString(10),localStorage.myId=this.myId),p.on("message",function(e){this.messages.push(e)}.bind(this));var e=new Date,s=e.getHours()<10?"0"+e.getHours():e.getHours(),t=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),i={type:"login",message:"login",id:this.id,user:this.user,date:e,hour:s.toString(10),min:t.toString(10)};p.emit("login",i)},updated:function(){this.$nextTick(function(){var e=document.documentElement,s=e.scrollHeight-e.clientHeight;scroll(0,s)})},methods:{sendMessage:function(){var e=new Date,s=e.getHours()<10?"0"+e.getHours():e.getHours(),t=e.getMinutes()<10?"0"+e.getMinutes():e.getMinutes(),i={type:"message",message:document.message_form.message.value,id:this.myId,user:this.user,date:e,hour:s,min:t.toString(10)};p.emit("message",i),this.newMessage=""}}},c={render:function(){var e=this,s=e.$createElement,t=e._self._c||s;return t("div",{attrs:{id:"main"}},[t("div",{attrs:{id:"main_body"}},[t("ul",{attrs:{id:"main_body_ul"}},e._l(e.messages,function(s,i,n){return t("Message",{key:n,attrs:{type:s.type,message:s.message,id:s.id,user:s.user,myId:e.myId,hour:s.hour,min:s.min}})}),1)]),e._v(" "),t("div",{attrs:{id:"main_footer"}},[t("form",{attrs:{id:"main_footer_form",name:"message_form"},on:{submit:function(s){return s.preventDefault(),e.sendMessage(s)}}},[t("textarea",{directives:[{name:"model",rawName:"v-model",value:e.newMessage,expression:"newMessage"}],attrs:{rows:"1",required:"",id:"main_footer_form_text",name:"message",placeholder:"メッセージを入力してください。"},domProps:{value:e.newMessage},on:{input:function(s){s.target.composing||(e.newMessage=s.target.value)}}}),e._v(" "),t("input",{attrs:{id:"main_footer_form_submit",type:"submit",value:"add"}})])])])},staticRenderFns:[]};var _=t("VU/8")(l,c,!1,function(e){t("nx0u")},null,null).exports,v={components:{Chat:_}},h={render:function(){var e=this.$createElement,s=this._self._c||e;return s("div",{attrs:{id:"app"}},[s("Chat")],1)},staticRenderFns:[]};var f=t("VU/8")(v,h,!1,function(e){t("0RR9")},null,null).exports,y=t("/ocq");i.a.use(y.a);var M=new y.a({routes:[{path:"/",name:"Chat",component:_}]});i.a.config.productionTip=!1,new i.a({el:"#app",router:M,components:{App:f},template:"<App/>"})},dIKx:function(e,s){},nx0u:function(e,s){}},["NHnr"]);
//# sourceMappingURL=app.156177084f8338774d49.js.map